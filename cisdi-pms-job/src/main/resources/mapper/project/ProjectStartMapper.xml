<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cisdi.pms.job.mapper.project.ProjectStartMapper">
    <resultMap id="ProjectStartResultMap" type="com.cisdi.pms.job.domain.project.ProjectStart">
        <id property="id" column="id" />
        <result property="code" column="code" />
        <result property="ver" column="ver" />
        <result property="ts" column="ts" />
        <result property="createBy" column="createBy" />
        <result property="createDate" column="createDate" />
        <result property="lastUpdateBy" column="lastUpdateBy" />
        <result property="lastUpdateDate" column="lastUpdateDate" />
        <result property="status" column="status" />
        <result property="projectId" column="projectId" />
        <result property="name" column="name" />
        <result property="projectName" column="projectName" />
        <result property="projectSituation" column="projectSituation" />
        <result property="startFile" column="startFile" />
        <result property="projectTotalInvest" column="projectTotalInvest" />
        <result property="projectTypeId" column="projectTypeId" />
        <result property="customerUnitId" column="customerUnitId" />
        <result property="startDate" column="startDate" />
        <result property="agent" column="agent" />
        <result property="projectStatus" column="projectStatus" />
        <result property="projectCode" column="projectCode" />
        <result property="investSourceId" column="investSourceId" />
        <result property="startRemark" column="startRemark" />
        <result property="tenderModeId" column="tenderModeId" />
        <result property="earlyConstructionPostUserId" column="earlyConstructionPostUserId" />
        <result property="planStartDate" column="planStartDate" />
        <result property="baseLocationId" column="baseLocationId" />
        <result property="planEndDate" column="planEndDate" />
    </resultMap>

    <sql id="commenHeader">
        ID AS id,
        VER AS ver,
        TS AS ts,
        CRT_DT AS createDate,
        CRT_USER_ID AS createBy,
        LAST_MODI_DT AS lastUpdateDate,
        LAST_MODI_USER_ID AS lastUpdateBy,
        `STATUS` AS `status`,
        `CODE` AS `code`,
        PRJ_SITUATION AS projectSituation,
        ATT_FILE_GROUP_ID AS startFile,
        `NAME` AS projectName,
        PRJ_TOTAL_INVEST AS projectTotalInvest,
        PROJECT_TYPE_ID AS projectTypeId,
        START_TIME AS startDate,
        BUILDER_UNIT AS customerUnitId,
        AGENT AS agent,
        PRJ_START_STATUS_ID AS projectStatus,
        PM_CODE AS projectCode,
        INVESTMENT_SOURCE_ID AS investSourceId,
        START_REMARK AS startRemark,
        TENDER_MODE_ID AS tenderModeId,
        AD_USER_ID AS earlyConstructionPostUserId,
        PLAN_START_TIME AS planStartDate,
        BASE_LOCATION_ID AS baseLocationId,
        PLAN_END_TIME AS planEndDate,
        PM_PRJ_ID AS projectId
    </sql>

    <!--根据项目id在项目启动中查询项目信息-->
    <select id="queryByProjectId" resultMap="ProjectStartResultMap">
        select
            <include refid="commenHeader" />
        from
            prj_start
        where
            pm_prj_id = #{projectId}
    </select>
</mapper>
